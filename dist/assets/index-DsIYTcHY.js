(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function r(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(n){if(n.ep)return;n.ep=!0;const a=r(n);fetch(n.href,a)}})();let E={noOuts:[169,168,166,165,163,162,159],max:170,min:2},N=[20,1,18,4,13,6,10,15,2,17,3,19,7,16,8,11,14,9,12,5],x=0,q=0,$=3,p=null,D=[],L=null,M=0,C=null;function W(){A(),L=Date.now(),Y(),C=setInterval(Y,1e3)}function A(){C&&(clearInterval(C),C=null)}function Y(){const t=document.getElementById("timer-display");if(t&&L){const e=Math.floor((Date.now()-L)/1e3);t.textContent=`${e}s`}}function I(){let t;do t=Math.floor(Math.random()*(E.max-E.min+1))+E.min;while(E.noOuts.includes(t));return x=t,q=t,$=3,p=null,M=0,W(),P(),t}function P(){const t=document.getElementById("target-display"),e=document.getElementById("darts-display"),r=document.getElementById("game-status"),s=document.getElementById("history-display");t&&(t.textContent=x),e&&(e.textContent="ðŸŽ¯".repeat($)),r&&(p==="win"?(r.textContent="WIN!",r.className="text-3xl font-bold mt-2 h-10 text-green-400"):p==="lose"?(r.textContent="LOSE",r.className="text-3xl font-bold mt-2 h-10 text-red-400"):(r.textContent="",r.className="text-3xl font-bold mt-2 h-10")),s&&(s.innerHTML=D.map(n=>`<div class="flex justify-between items-center px-2 py-1 ${n.result==="W"?"text-green-400":"text-red-400"}">
                <span class="font-bold">${n.result==="W"?"âœ“":"âœ—"}</span>
                <span>${n.target}</span>
                <span>${n.throws}ðŸŽ¯</span>
                <span>${n.time}s</span>
            </div>`).join(""))}function O(t){if(!t)return;const{text:e,value:r}=t,s=e.startsWith("D")||r===50;p!==null&&(p=null),M++,x-=r,$--;const n=a=>{A();const i=Math.round((Date.now()-L)/1e3);D.unshift({result:a,time:i,throws:M,target:q}),D.length>10&&D.pop()};return x===0?(s?(p="win",n("W")):(p="lose",n("L")),setTimeout(()=>{I()},1500)):x<0?(p="lose",n("L"),setTimeout(()=>{I()},1500)):$===0&&(p="lose",n("L"),setTimeout(()=>{I()},1500)),P(),{text:e,value:r,isDouble:s}}function j(t){const r=360/t.length;let s=document.createElement("div");s.id="board",s.className="relative w-full aspect-square rounded-full mx-auto overflow-hidden",t.forEach((a,i)=>{const u=document.createElement("div");u.dataset.score=a;const h=i*r,f=i%2===0,S=r/2*Math.PI/180,o=50*Math.tan(S),l=50-o,m=50+o,d=f?"#1a1a1a":"#f5f5dc",g=f?"#dc2626":"#16a34a",b=f?"rgba(10,10,10,0.7)":"rgba(100,100,80,0.7)",X=`radial-gradient(circle closest-side at 50% 50%, 
            ${b} 0%, 
            ${b} 53%, 
            ${g} 53%, 
            ${g} 55%, 
            ${d} 55%, 
            ${d} 98%, 
            ${g} 98%, 
            ${g} 100%)`;u.className="absolute inset-0 flex items-start justify-center cursor-pointer transition-all hover:brightness-125 hover:z-10",u.style.cssText=`
            clip-path: polygon(50% 50%, ${l}% 0%, ${m}% 0%);
            transform: rotate(${h}deg);
            background: ${X};
        `;const v=document.createElement("span");v.className="mt-4 text-xs font-bold select-none",v.style.cssText=`
            transform: rotate(${-h}deg);
            color: ${f?"#f5f5dc":"#1a1a1a"};
        `,v.textContent=a,u.appendChild(v),u.dataset.score=a,u.dataset.originalBg=X,u.dataset.originalColor=f?"#f5f5dc":"#1a1a1a",s.appendChild(u)});const n=document.createElement("div");return n.className="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-12 h-12 rounded-full bg-red-600 border-4 border-green-700 z-20 cursor-pointer hover:scale-110 transition-transform",n.dataset.score=50,s.appendChild(n),s}function w(t){const e=document.getElementById("board");if(!e)return 0;const r=e.getBoundingClientRect(),s=r.left+r.width/2,n=r.top+r.height/2,a=r.width/2,i=t.touches?t.touches[0].clientX:t.clientX,u=t.touches?t.touches[0].clientY:t.clientY,h=i-s,f=u-n;return Math.sqrt(h*h+f*f)/a*100}const B=53;let c=null;function z(){if(!c)return null;const t=c.dataset.score,e=c.dataset.mode;return e==="outerBull"?{text:"25",value:25}:e==="double"?{text:`D${t}`,value:parseInt(t)*2}:e==="triple"?{text:`T${t}`,value:parseInt(t)*3}:{text:t,value:parseInt(t)}}function F(){c&&(T(c),c=null)}function T(t){if(!t||!t.dataset.score)return;const e=t.querySelector("span");e&&(e.textContent=t.dataset.score,e.style.color=t.dataset.originalColor),t.style.background=t.dataset.originalBg,t.dataset.mode=""}function R(t){const e=t.target.closest("[data-score]");if(!e)return;if(e.dataset.score==="50"){c&&c!==e&&T(c),e.dataset.mode="outerBull",c=e,console.log("25");return}if(w(t)<B||(c&&c!==e&&T(c),!e.dataset.originalBg))return;const s=e.dataset.score,n=e.querySelector("span");if(!n)return;const i=N.indexOf(parseInt(s))%2===0;e.style.background=i?"#dc2626":"#16a34a",n.textContent=`D${s}`,n.style.color="#ffffff",e.dataset.mode="double",c=e,console.log(`D${s}`)}function k(t){const e=t.target.closest("[data-score]");if(!e||!e.dataset.originalBg||w(t)<B)return;const s=e.dataset.score,n=e.querySelector("span");if(!n)return;c&&c!==e&&T(c);const i=N.indexOf(parseInt(s))%2===0;e.style.background=i?"#dc2626":"#16a34a",n.textContent=`T${s}`,n.style.color="#ffffff",e.dataset.mode="triple",c=e,console.log(`T${s}`)}document.addEventListener("DOMContentLoaded",()=>{console.log("ðŸŽ¯ Darts app initialized"),H()});function H(){const t=j(N);document.getElementById("board-container").appendChild(t),U(),I()}function U(){const t=document.getElementById("board");let e=!1,r=null,s=null,n=!1,a=!1;function i(){const o=t.getBoundingClientRect();return{x:o.left+o.width/2,y:o.top+o.height/2}}function u(o,l){const m=i(),d=o-m.x,g=l-m.y;return Math.sqrt(d*d+g*g)}function h(o,l,m){e=!0,n=!1,r=u(o,l),s=null;const d=m.target.closest("[data-score]"),g=d&&d.dataset.score==="50",b=w(m);a=g||b>=B}function f(o,l,m){if(!e||!a)return;const d=u(o,l);!s&&Math.abs(d-r)>5&&(s=d>r?"out":"in",n=!0),s==="out"?R(m):s==="in"&&k(m)}function y(o){if(s){const l=z();l&&O(l)}e=!1,r=null,s=null,a=!1,F()}function S(o){if(n){n=!1;return}const l=o.target.closest("[data-score]");if(l){if(l.dataset.score==="50")O({text:"50",value:50});else if(w(o)>=B){const d=parseInt(l.dataset.score);O({text:String(d),value:d})}}}t.addEventListener("mousedown",o=>h(o.clientX,o.clientY,o)),t.addEventListener("mousemove",o=>f(o.clientX,o.clientY,o)),t.addEventListener("mouseup",o=>y()),t.addEventListener("mouseleave",o=>y()),t.addEventListener("click",S),t.addEventListener("touchstart",o=>{const l=o.touches[0];h(l.clientX,l.clientY,o)},{passive:!0}),t.addEventListener("touchmove",o=>{const l=o.touches[0];f(l.clientX,l.clientY,o)},{passive:!0}),t.addEventListener("touchend",o=>y()),t.addEventListener("touchcancel",o=>y())}
