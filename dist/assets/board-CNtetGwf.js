(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function c(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(o){if(o.ep)return;o.ep=!0;const r=c(o);fetch(o.href,r)}})();const $="dartsSettings",O=365;function v(){const e=document.cookie.split(";");for(const t of e){const[c,n]=t.trim().split("=");if(c===$)try{return JSON.parse(decodeURIComponent(n))}catch(o){return console.error("Failed to parse cookie:",o),null}}return null}function N(e){const t=new Date;t.setTime(t.getTime()+O*24*60*60*1e3);const c=encodeURIComponent(JSON.stringify(e));document.cookie=`${$}=${c};expires=${t.toUTCString()};path=/;SameSite=Strict`}const g=[20,1,18,4,13,6,10,15,2,17,3,19,7,16,8,11,14,9,12,5],C=53;let a=null;function T(){const t=360/g.length;let c=document.createElement("div");c.id="board",c.className="relative w-full aspect-square rounded-full mx-auto overflow-hidden",g.forEach((o,r)=>{const s=document.createElement("div");s.dataset.score=o;const l=r*t,i=r%2===0,d=t/2*Math.PI/180,h=50*Math.tan(d),E=50-h,I=50+h,b=i?"#1a1a1a":"#f5f5dc",u=i?"#dc2626":"#16a34a",y=i?"rgba(10,10,10,0.7)":"rgba(100,100,80,0.7)",x=`radial-gradient(circle closest-side at 50% 50%, 
            ${y} 0%, 
            ${y} 53%, 
            ${u} 53%, 
            ${u} 55%, 
            ${b} 55%, 
            ${b} 98%, 
            ${u} 98%, 
            ${u} 100%)`;s.className="absolute inset-0 flex items-start justify-center cursor-pointer transition-all hover:brightness-125 hover:z-10",s.style.cssText=`
            clip-path: polygon(50% 50%, ${E}% 0%, ${I}% 0%);
            transform: rotate(${l}deg);
            background: ${x};
        `;const f=document.createElement("span");f.className="mt-4 text-xs font-bold select-none",f.style.cssText=`
            transform: rotate(${-l}deg);
            color: ${i?"#f5f5dc":"#1a1a1a"};
        `,f.textContent=o,s.appendChild(f),s.dataset.score=o,s.dataset.originalBg=x,s.dataset.originalColor=i?"#f5f5dc":"#1a1a1a",c.appendChild(s)});const n=document.createElement("div");return n.className="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-12 h-12 rounded-full bg-red-600 border-4 border-green-700 z-20 cursor-pointer hover:scale-110 transition-transform",n.dataset.score=50,c.appendChild(n),c}function S(e,t=null){const c=t||document.getElementById("board");if(!c)return 0;const n=c.getBoundingClientRect(),o=n.left+n.width/2,r=n.top+n.height/2,s=n.width/2,l=e.touches?e.touches[0].clientX:e.clientX,i=e.touches?e.touches[0].clientY:e.clientY,p=l-o,d=i-r;return Math.sqrt(p*p+d*d)/s*100}function A(){if(!a)return null;const e=a.dataset.score,t=a.dataset.mode;return t==="outerBull"?{text:"25",value:25}:t==="double"?{text:`D${e}`,value:parseInt(e)*2}:t==="triple"?{text:`T${e}`,value:parseInt(e)*3}:{text:e,value:parseInt(e)}}function B(){a&&(m(a),a=null)}function m(e){if(!e||!e.dataset.score)return;const t=e.querySelector("span");t&&(t.textContent=e.dataset.score,t.style.color=e.dataset.originalColor),e.style.background=e.dataset.originalBg,e.dataset.mode=""}function w(e){const t=e.target.closest("[data-score]");if(!t)return;if(t.dataset.score==="50"){a&&a!==t&&m(a),t.dataset.mode="outerBull",a=t,console.log("25");return}if(S(e)<C||(a&&a!==t&&m(a),!t.dataset.originalBg))return;const n=t.dataset.score,o=t.querySelector("span");if(!o)return;const s=g.indexOf(parseInt(n))%2===0;t.style.background=s?"#dc2626":"#16a34a",o.textContent=`D${n}`,o.style.color="#ffffff",t.dataset.mode="double",a=t,console.log(`D${n}`)}function D(e){const t=e.target.closest("[data-score]");if(!t||!t.dataset.originalBg||S(e)<C)return;const n=t.dataset.score,o=t.querySelector("span");if(!o)return;a&&a!==t&&m(a);const s=g.indexOf(parseInt(n))%2===0;t.style.background=s?"#dc2626":"#16a34a",o.textContent=`T${n}`,o.style.color="#ffffff",t.dataset.mode="triple",a=t,console.log(`T${n}`)}export{C as I,g as a,T as b,S as c,w as d,D as e,A as f,v as g,B as r,N as s};
